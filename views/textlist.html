
<!-- Text detail  -->
<ui-view></ui-view>

<div ng-show="getCurrentTextId() == undefined" class="panneauTexte" action-location="TextList">

  <div ng-hide="true || filtersWellDefined()" style="padding-top: 0px; margin-top: 0px; margin-bottom: 5px; ">
    <span ng-show="textList.length">
      <span class="nombreTextes">{{ filteredList.length }}</span>&nbsp
      <span class="labelTextes" translate>façons de dire</span>
    </span>
    <span ng-hide="textList.length">
      <span class="labelTextes" translate>Aucun texte pour dire</span>
    </span>
  </div>


  <div style="vertical-align: middle;">
    <h4 class="intentionCourante " style="  vertical-align: middle;">
      <a class="backArrow" style="margin-right: 5px"
         ng-href="{{app.appUrlSvc.getFullPath('')}}area/{{ currentAreaName }}/recipient/{{ recipientId }}/intention"
         role="button"  targetId="Back" > <img ng-src="./assets/arrow-left.png" class="stylepicto"> </a>
      <span translate>{{ currentIntention.Label }}</span>
      <span ng-show="currentRecipient !== null"> - </span>
      <span translate>{{ currentRecipientLabel }}</span>
    </h4>
  </div>


  <!--<div ng-controller="AccordionOptionController">-->
  <div>
    <accordion>
      <accordion-group is-open="accordionStatus.open" is-disabled="false">
        <accordion-heading>
          <i class="glyphicon" ng-class="{'glyphicon-plus': !accordionStatus.open, 'glyphicon-minus': accordionStatus.open}"></i>
          <span translate class="brand">Filtrer</span>
          (
          <span translate class="brand">{{filteredList.length}}</span>
          )
          <!-- Not actionnable on iPhones !  -->
          <!--<i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': accordionStatus.open, 'glyphicon-chevron-right': !accordionStatus.open}"></i>-->
        </accordion-heading>
        <!-- Filtering options  -->
        <div ng-include="'views/partials/filterForm.html'" style="margin-bottom: 0px;"></div>
        <!--<div ng-include="'views/partials/styleBar.html'" ng-show="true || filtersWellDefined()"></div>-->
      </accordion-group>
    </accordion>
  </div>

    <!-- Text list  -->
    <!--<div class="listeTextes" ng-show="filtersWellDefined() || showTextsAnyway()">-->
    <div class="listeTextes" ng-show="true">
      <div ng-repeat="txt in filteredList">
        <div id="{{txt.TextId}}">
          <img
          src="./assets/e-mail64.png"
          class="pull-right envoyer"
          ng-click="send(txt)">
          <!--<a href="{{appUrlSvc.getRootPath()}}area/{{ currentArea.Name }}/intention/{{ app.appUrlSvc.getIntentionSlug(currentIntention) }}/recipient/{{ recipientId }}/text/{{txt.TextId}}"-->
          <a href="{{appUrlSvc.getRootPath()}}area/{{ currentAreaName }}/recipient/{{ recipientId }}/intention/{{ app.appUrlSvc.getIntentionSlug(currentIntention) }}/text/{{txt.TextId}}"

          targetType="Text"
          actionType="open"
          targetId="{{txt.TextId}}"
          ng-click="appUrlSvc.setTextDetailWasCalledFromTextList(true)"
          >
          <div cvd-text="txt" ng-class="{active: txt.TextId == selectedTextId}" style="white-space: pre-wrap"></div>
        </a>
      </div>
    </div>
  </div>

  <div  ng-show="false" ng-include="'views/partials/languageBar.html'" style="margin-top: 30px; text-align: center" ></div>

  <!-- Fixed position question view -->
  <div ui-view="v1@" ng-show="true" style="position:fixed; border:1px solid rgb(247,133,40) ; background-color: #ffffff; text-align:center; z-index:3;
                  left: 50%; width: 300px; margin-left: -150px; border-width: 2px;  bottom:1px; padding: 0px; margin-bottom: 0px;" class="alert alert-info">
  </div>
  <!-- margin-left: -160px; -->
  <!-- margin-left: 129px; -->
  <div ng-show="true" style="position:fixed; background-color: #ffffff; margin-left: -160px;  text-align:center;   left: 50%; ; width: 47px; bottom:0px; z-index:5; ">
    <a href="" scroll-to="" ng-click="openAccordion()"  class="fa fa-envelope-o">&nbsp{{filteredList.length}}</a>
    <!--<a class="btn btn-default btn-sm" href=""><i class="fa fa-envelope-o"></i>&nbsp{{filteredList.length}}</a>-->
  </div>


</div>