
<!-- Text detail  -->
<ui-view></ui-view>

<div ng-show="getCurrentTextId() == undefined" class="panneauTexte" action-location="TextList">

  <div ng-hide="filtersWellDefined()" style="padding-top: 0px; margin-top: 0px; margin-bottom: 5px; ">
    <span ng-show="textList.length">
      <span class="nombreTextes">{{ filteredList.length }}</span>&nbsp
      <span class="labelTextes" translate>façons de dire</span>
    </span>
    <span ng-hide="textList.length">
      <span class="labelTextes" translate>Aucun texte pour dire</span>
    </span>
  </div>

  <div style="vertical-align: middle;">
    <h4 class="intentionCourante " style="  vertical-align: middle;">
      <a class="backArrow" style="margin-right: 5px" ng-href="{{app.appUrlSvc.getFullPath('')}}area/{{ currentArea.Name }}/intention/{{ recipientId }}"  role="button"  targetId="Back" > <img ng-src="./assets/arrow-left.png" class="stylepicto"> </a>
      <span translate>{{ currentIntention.Label }}</span>
      <span ng-show="currentRecipient !== null"> - </span>
      <span translate>{{ currentRecipientLabel }}</span>
    </h4>
  </div>


  <!-- Filtering options  -->
    <div ng-include="'views/partials/filterForm.html'" style="margin-bottom: 20px;"></div>
    <div ng-include="'views/partials/styleBar.html'" ng-show="filtersWellDefined()"></div>


    <!-- Text list  -->
    <div class="listeTextes" ng-show="filtersWellDefined() || showTextsAnyway()">
      <div ng-repeat="txt in filteredList">
        <div id="{{txt.TextId}}">
          <img
          src="./assets/e-mail64.png"
          class="pull-right envoyer"
          ng-click="send(txt)">
          <!--<favourite-toggle is-favourite="isFavourite(txt)" on-change="setFavourite(txt, isFavourite(txt))"></favourite-toggle>-->
          <!--<a href="{{appUrlSvc.getRootPath()}}area/{{ currentArea.Name }}/intention/{{ currentIntention.SlugPrototypeLink }}/recipient/{{ recipientId }}/text/{{txt.TextId}}"-->
          <a href="{{appUrlSvc.getRootPath()}}area/{{ currentArea.Name }}/intention/{{ app.appUrlSvc.getIntentionSlug(currentIntention) }}/recipient/{{ recipientId }}/text/{{txt.TextId}}"

          targetType="Text"
          actionType="open"
          targetId="{{txt.TextId}}"
          ng-click="selectThisText(txt,'open')">
          <div cvd-text="txt" ng-class="{active: txt.TextId == selectedTextId}" style="white-space: pre-wrap"></div>
        </a>
      </div>
    </div>
  </div>

  <div  ng-show="false" ng-include="'views/partials/languageBar.html'" style="margin-top: 30px; text-align: center" ></div>

</div>